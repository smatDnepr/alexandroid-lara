jQuery((function(e){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e("body").addClass("body-mobile-device"):e("body").addClass("body-desktop-device"),svg4everybody({polyfill:!0}),e(".scroll-y").scrollbar(),e(window).on("load scroll resize",(function(){e(window).scrollTop()?e("body").addClass("body-scrolled"):e("body").removeClass("body-scrolled")})),e(".btn-top-page").each((function(){var i=e(this);e(window).on("load scroll",(function(){e(window).scrollTop()>window.innerHeight?i.addClass("visible"):i.removeClass("visible")})),i.on("click",(function(t){t.preventDefault(),i.is(".visible")&&e("html, body").animate({scrollTop:0},600)}))})),e('[class *= "section-"]').each((function(){e(this).next('[class *= "section-"]').length&&e(this).css("background-color")!=e(this).next().css("background-color")&&e(this).next('[class *= "section-"]').addClass("next-other-background")})),e("body").on("click",'a[href^="#"]',(function(i){var t=e(this).attr("href");if(1!=t.length)if(e(t).length)i.preventDefault(),e("body").find('a[href^="#"]').parent().removeClass("active"),e("body").find('a[href^="'+t+'"]').parent().addClass("active"),e("body").removeClass("body-mobile-menu-open"),e("html, body").animate({scrollTop:e(t).offset().top},600);else{var n=null!=window.location.pathname.match(/(\/ua\/|\/ru\/)/i)?window.location.pathname.match(/(\/ua\/|\/ru\/)/i)[0]:"/",s=window.location.protocol+"//"+window.location.host+n+t;document.location.href=s}})),e(".mobile-menu").each((function(){e(".btn-mobile-menu").on("click",(function(i){i.preventDefault(),e("body").toggleClass("body-mobile-menu-open")})),e("body > .wrapper > .overlay").on("click",(function(){e("body").removeClass("body-mobile-menu-open")}))})),e("body").addClass("body-not-slider-promo"),e(".section-slider-promo").each((function(){var i=e(".slider",this),t=e(".list",i),n=e(".nav-left",i),s=e(".nav-right",i);function o(){var e=n.find(".thumbnail"),i=s.find(".thumbnail"),o=n.find(".title"),a=s.find(".title"),l=parseInt(t.find(".slick-current").attr("data-slick-index")),d=0!=l?l-1:t.find(".slick-slide").length-1,r=l!=t.find(".slick-slide").length-1?l+1:0,c=t.find(".slick-slide[data-slick-index="+d+"]").find(".item .background").attr("data-bgr"),u=t.find(".slick-slide[data-slick-index="+r+"]").find(".item .background").attr("data-bgr"),f=t.find(".slick-slide[data-slick-index="+d+"]").find(".item .title").text(),p=t.find(".slick-slide[data-slick-index="+r+"]").find(".item .title").text();e.css("background-image",'url("'+c+'")'),i.css("background-image",'url("'+u+'")'),o.text(f),a.text(p)}e("body").removeClass("body-not-slider-promo"),t.on("init",(function(){o()})).slick({infinite:!0,adaptiveHeight:!0,fade:!0,autoplay:!0,draggable:!1,touchMove:!1,pauseOnFocus:!0,pauseOnHover:!0,speed:1e3,autoplaySpeed:12e3,prevArrow:n,nextArrow:s,responsive:[{breakpoint:992,settings:{draggable:!0,touchMove:!0}}]}).on("beforeChange",(function(e,i,o,a){!function(e,i){var t=gsap.utils.toArray(e.querySelectorAll(".title, .text, .bottom")),n=gsap.utils.toArray(i.querySelectorAll(".title, .text, .bottom"));gsap.to(t,{opacity:0,duration:.6,y:-100,stagger:.2}),gsap.to(n,{opacity:0,duration:.1,y:-100,stagger:0})}(t.find(".slick-slide[data-slick-index="+o+"]").find(".item")[0],a=t.find(".slick-slide[data-slick-index="+a+"]").find(".item")[0]),n.removeClass("show-thumb"),s.removeClass("show-thumb")})).on("afterChange",(function(e,i,a){!function(e){var i=gsap.utils.toArray(e.querySelectorAll(".title, .text, .bottom"));gsap.to(i,{opacity:1,duration:.6,y:0,stagger:-.2})}(t.find(".slick-slide[data-slick-index="+a+"]").find(".item")[0]),o(),n.filter(".active").addClass("show-thumb"),s.filter(".active").addClass("show-thumb")})),e([n,s]).each((function(){e(this).on("mouseenter",(function(){e(this).addClass("show-thumb active")})).on("mouseleave",(function(){e(this).removeClass("show-thumb active")}))}))})),e(".section-some-work").each((function(){var i=e(".slider-toggler .toggler",this),t=e(".slider-content ul",this);t.on("init",(function(){i.filter(":first").addClass("active").addClass("active").siblings().removeClass("active")})).slick({arrows:!1,dots:!0,autoplay:!1,autoplaySpeed:6e3,speed:600,infinite:!1}).on("afterChange",(function(e,t,n){i.filter(":eq("+n+")").addClass("active").addClass("active").siblings().removeClass("active")})),i.on("click",(function(){var i=e(this).index();e(this).addClass("active").siblings().removeClass("active"),t.slick("slickGoTo",i)}))})),e(".section-portfolio").each((function(){var i=e(".content > .list",this);i.find(".item").each((function(){var i,t=e(this).attr("data-caption")||"",n=e(this).attr("data-partner")||"",s=e(this).attr("data-date")||"",o=e(this).index()||0;i='<span class="info">\n<span class="caption">'+t+'</span>\n<span class="partner">'+n+'</span>\n<span class="date">'+s+"</span>\n</span>",e(this).children("a:first-child").append(i),e(this).children("a").attr({"data-fancybox":"portfolio-"+o,"data-caption":t}).fancybox({loop:!0,backFocus:!1,image:{preload:!0},transitionEffect:"fade",transitionDuration:600})})),e(window).on("resize",(function(){e(window).innerWidth()<640&&!i.is(".slick-slider")?i.slick({arrows:!1,dots:!0,autoplay:!1}):e(window).innerWidth()>=640&&i.is(".slick-slider")&&i.slick("unslick"),i.find(".item").each((function(){e(this).css("background-image",'url("'+e(this).attr("data-thumbnail")+'")')}))})).trigger("resize")})),e(".section-partners").each((function(){var i=e(".content > .list",this),t=e(".content > .btn-slide-prev",this),n=e(".content > .btn-slide-next",this);i.slick({arrows:!0,dots:!1,slidesToShow:6,slidesToScroll:6,autoplay:!1,prevArrow:t,nextArrow:n,responsive:[{breakpoint:1200,settings:{slidesToShow:5,slidesToScroll:5}},{breakpoint:992,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:768,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:640,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:500,settings:{slidesToShow:1,slidesToScroll:1}}]})})),e(".section-price").each((function(){e(".item .title",this).smatEqualItemsHeight()})),e(".section-faq").each((function(){e(".question",this).on("click",(function(i){i.preventDefault(),e(this).closest("li").toggleClass("open").siblings("li").removeClass("open").find(".answer").slideUp(),e(this).closest("li").is(".open")?e(this).closest("li").find(".answer").slideDown():e(this).closest("li").find(".answer").slideUp()}))})),e("header .lang .menu-lang > li > a").on("click",(function(e){e.preventDefault()})),e(".js-btn-popup-contact").on("click",(function(i){i.preventDefault(),e.fancybox.open({src:"#popup_contact",touch:!1,animationDuration:500,animationEffect:"fade",type:"inline",beforeShow:function(){e("#popup_contact").removeClass("sending email-error email-success"),e("#popup_contact").find(".field").removeClass("error"),e("#popup_contact").find("form")[0].reset()}})})),e("#popup_contact").each((function(){var i=e(this),t=e("form",i),n=e(".js-btn-send",i);t.find("input[name=phone]").mask("+38 (099) 999 99 99"),n.on("click",(function(n){n.preventDefault();var s="",o=!1;if(t.find(".field").removeClass("error"),t.find("input[data-name = username]").length&&((s=e.trim(t.find("input[data-name = username]").val())).length||(t.find("input[data-name = username]").focus().closest(".field").addClass("error"),o=!0)),t.find("input[data-name = phone]").length&&(s=e.trim(t.find("input[data-name = phone]").val()),/^\+38 \(\d\d\d\) \d\d\d \d\d \d\d$/i.test(s)||(t.find("input[data-name = phone]").focus().closest(".field").addClass("error"),o=!0)),o)return t.find(".field.error:not([class*=fill])").first().find(":input").focus(),!1;e.ajax({type:"POST",url:"/send-email-contact",data:t.serialize(),beforeSend:function(){i.addClass("sending")},success:function(e){e.result?i.removeClass("email-error sending").addClass("email-success"):i.removeClass("email-success sending").addClass("email-error")},error:function(){i.removeClass("email-success sending").addClass("email-error")}})}))}))}));